(this["webpackJsonpaddress-hash"]=this["webpackJsonpaddress-hash"]||[]).push([[0],{411:function(e,t,a){},414:function(e,t){},422:function(e,t){},424:function(e,t){},481:function(e,t){},482:function(e,t){},504:function(e,t){},506:function(e,t){},516:function(e,t){},518:function(e,t){},640:function(e,t){},642:function(e,t){},647:function(e,t){},649:function(e,t){},656:function(e,t){},668:function(e,t){},671:function(e,t){},676:function(e,t){},684:function(e,t){},819:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(37),r=a.n(s),i=(a(410),a(411),a(412),a(835)),l=(a(413),a(11)),o=a(2),u=a(4),j=a(110),d=a(271),b=a.n(d),m=a(385),h=a.n(m),O=a(48),p=a.n(O);function f(e,t){var a,n=p.a.utils.hexToNumberString(function(e){var t=x(e);return g(t,32)}(e)),c=new p.a.utils.BN(n),s=p.a.utils.hexToNumberString((a=t,g(x(p.a.utils.toHex(a),12),32))),r=new p.a.utils.BN(s).shrn(160),i=c.or(r);return console.log("Add: 0x"+c.toString(16)," |||| Qunt: 0x"+r.toString(16)," ||||| result: 0x"+i.toString(16)),"0x"+p.a.utils.padLeft(i,64)}function x(e,t){var a=p.a.utils.hexToBytes(e);if(!t||t===a.length)return a.concat([]);if(t<a.length)throw"Data will be lost";for(;t!=a.length;)a.unshift(0);return p.a.utils.bytesToHex(a)}function g(e,t){Array.isArray(e)||(e=p.a.utils.hexToBytes(e));var a=t-e.length;if(a<0)throw new Error("Data loss");if(0===a)return e.concat([]);var n="0".repeat(a).split("").map((function(e){return parseInt(e)})),c=e.concat(n);return p.a.utils.bytesToHex(c)}var v={name:"New Collection",title:"New(2022)",collectionID:"new",categoryName:"Annual Series",categoryType:"annual",itemsCount:200,author:"a collective",path:"/new",dropId:10,artists:54,dropPhases:[],tags:[],aboutCollection:"",description:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum."},y=a(33),C=a(50),I=a(116),k=a(111),w=a(1),S=c.a.createContext({}),N=function(e){var t=e.children,a=Object(n.useState)([]),c=Object(u.a)(a,2),s=c[0],r=c[1],i=Object(n.useState)([]),d=Object(u.a)(i,2),b=d[0],m=d[1],h=Object(n.useState)([]),O=Object(u.a)(h,2),p=O[0],f=O[1];Object(n.useEffect)((function(){var e=I.get("collections"),t=I.get("artists");e&&e.length&&m(e),t&&t.length&&(console.log(t),r(t))}),[]);Object(n.useEffect)((function(){var e=s.map((function(e){return{name:e.name,value:e.name,artistImg:e.imageSrc}})).filter((function(e,t,a){return t===a.findIndex((function(t){return t.name===e.name}))}));f(e)}),[s]);var x=Object(n.useCallback)((function(e){if(!e)throw new Error("Cannot set collection to null");try{m((function(t){if(!0===e)return I.set("collections",t),t;if(Array.isArray(e))return I.set("collections",e),e;var a=e(t);return I.set("collections",a),a}))}catch(t){console.log(t),alert("Could not save progress.")}}),[m]),g=Object(n.useCallback)(function(){var e=Object(C.a)(Object(y.a)().mark((function e(t){var a;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new FileReader,e.abrupt("return",new Promise((function(e,n){a.addEventListener("load",(function(t){try{var a=JSON.parse(t.target.result);a.reduce((function(e,t){return e.id||(e.id=Object(k.a)()),e.id in t&&(e.id=Object(k.a)()),t[e.id]=!0,t}),{}),x((function(e){return[].concat(Object(l.a)(e),Object(l.a)(a))})),e(a)}catch(c){n(new Error("Cant parse file data"))}})),a.addEventListener("error",(function(e){n(new Error("Error during data loading"))})),a.readAsText(t)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[x]),N=Object(n.useCallback)(function(){var e=Object(C.a)(Object(y.a)().mark((function e(t){var a;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=q(t),r(a),I.set("artists",a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[x]),P=Object(n.useCallback)((function(){x((function(e){var t=function(e,t){if(!t.includes(e))return e;var a=Math.max.apply(Math,[0].concat(Object(l.a)(t.map((function(t){return parseInt(t.replace(e,"").replace(/[\s-]/gm,""))})).filter((function(e){return!isNaN(e)})))));a?a++:a=1;var n=" - ".concat(a);return e+n}(v.name,e.map((function(e){return e.name})));return[].concat(Object(l.a)(e),[Object(o.a)(Object(o.a)({},v),{},{name:t,id:Object(k.a)()})])}))}),[x]),L=Object(n.useCallback)((function(e){x((function(t){return t.filter((function(t){return t.id!==e}))}))}),[x]),A=(Object(n.useCallback)((function(e){return b.find((function(t){return t.id===e}))}),[b]),Object(n.useCallback)((function(e){var t=b.findIndex((function(t){return t.id===e.id}));return-1!==t&&(e.isMain&&b.forEach((function(e,a){a!==t&&(b[a]=Object(o.a)(Object(o.a)({},b[a]),{},{isMain:!1}))})),b[t]=Object(o.a)(Object(o.a)({},b[t]),e),x(b),!0)}),[b,x])),T=Object(n.useCallback)((function(e,t){x([]),I.clear()}),[x]),D=Object(n.useCallback)((function(){if(b.length){x(b);var e=(new TextEncoder).encode(JSON.stringify(b,2,2)),t=new Blob([e],{type:"application/json;charset=utf-8"});Object(j.saveAs)(t,"collections.json")}}),[b,x]),F=Object(n.useMemo)((function(){return b.map((function(e){return{value:e.categoryName,type:e.categoryType}})).filter((function(e,t,a){return a.findIndex((function(t){return t.value===e.value}))===t}))}),[b]);return Object(w.jsx)(S.Provider,{value:{collections:b,loadArtists:N,artists:s,artistOptions:p,clearAllCollectionData:T,addCollection:P,updateCollection:A,saveCollectionsData:x,saveCollectionJSON:D,removeCollection:L,loadCollections:g,categoryOptions:F},children:t})},P=function(){return c.a.useContext(S)},L=c.a.createContext({}),A=1e6,T=function(e){var t=e.collection,a=e.children,c=e.permanent,s=Object(n.useState)([]),r=Object(u.a)(s,2),i=r[0],d=r[1],b=P(),m=b.updateCollection,h=b.artists;Object(n.useEffect)((function(){var e=t.images||[];c&&(e=e.concat()),d(e)}),[t,c]);var O=Object(n.useCallback)((function(){t.images=i,m(t)}),[t,i,m]),p=Object(n.useCallback)((function(e){d((function(e){return[]}))}),[d]),f=Object(n.useCallback)((function(e){d((function(t){return t.filter((function(t){return t.id!==e}))}))}),[d]),x=Object(n.useCallback)((function(e){var a=parseInt(t.dropId);d((function(e){return e.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{tokenId:A*a+t,internalNumber:t})}))}))}),[d,t.dropId]),g=Object(n.useCallback)((function(e){var a=function(e,t,a){var n=t.map((function(t,n){var c=function(e){return Object.keys(E).reduce((function(t,a){return t[E[a]]=e[a]||"",t}),{})}(t);return c.image="".concat(M).concat(e.imageDir,"/").concat(c.fileName,".jpg"),c.smallImage="".concat(M).concat(e.imageDir,"/").concat(c.fileName,"-small.jpg"),c.internalNumber=parseInt(c.internalNumber),c.collection=e.name,c.id||(c.id=n),c.subtitle||(c.subtitle=e.name),c.artistImg||(c.artistImg=function(e,t){var a=e.find((function(e){var a;return(null===(a=e.name)||void 0===a?void 0:a.toLowerCase())==(null===t||void 0===t?void 0:t.toLowerCase())}));if(!a)return"";return a.imageSrc}(a,c.artist)),c.tags=c.tags?c.tags.split(","):[],c})),c=e.startIdNumber;!c&&e.dropId&&(c=e.dropId*A);if(!c)return n;return n.concat().sort((function(e,t){return e.internalNumber-t.internalNumber})).forEach((function(e,t){e.tokenId||(e.tokenId=c+t),e.internalNumber||(e.internalNumber=t)})),n}({name:t.name,imageDir:t.collectionID},e,h);d(a)}),[d,t,h]),v=Object(n.useCallback)((function(e){if(e.id){var t=i.findIndex((function(t){return t.id===e.id}));return-1!==t&&(i[t]=Object(o.a)(Object(o.a)({},i[t]),e),d(Object(l.a)(i)))}var a=Math.max.apply(Math,Object(l.a)(i.map((function(e){return e.id}))));a?a++:a=1,e.id=a,i.push(e),d(Object(l.a)(i))}),[d,i]),y=Object(n.useCallback)((function(e){var a=function(e,t){var a,n={name:e.title,description:e.description,image:e.imageIPFS,external_url:"https://light.art",license_document:"ipfs://bafkreidvs3sgzpuoxaubpvg5gax2luj5j7422l2i5icfqmgtplk5medw3u",attributes:[]};return n.attributes.push({trait_type:"Artist",value:e.artist}),n.attributes.push({trait_type:"Tone",value:e.tone}),n.attributes.push({trait_type:"Set",value:e.set}),n.attributes.push({trait_type:"Camera Manufacturer",value:e.cameraManufacturer}),n.attributes.push({trait_type:"Camera",value:e.camera}),n.attributes.push({trait_type:"Country",value:e.country}),n.attributes.push({trait_type:"Genres",value:(null===e||void 0===e||null===(a=e.tags)||void 0===a?void 0:a.join(","))||[]}),n.attributes.push({trait_type:"License",value:e.license}),n.attributes.push({trait_type:"Collection",value:t.name}),n.attributes.push({trait_type:"Collection Year",value:(new Date).getFullYear()}),n}(e,t),n=(new TextEncoder).encode(JSON.stringify(a)),c=new Blob([n],{type:"application/json;charset=utf-8"});Object(j.saveAs)(c,"".concat(e.title,".json"))}),[t]);return Object(w.jsx)(L.Provider,{value:{images:i,saveIPFSData:y,loadImagesFromCSV:g,removeImage:f,saveChanges:O,saveImage:v,removeAllImages:p,updateImagesTokensIds:x},children:a})},D=function(){return c.a.useContext(L)},F="0x0000000000000000000000000000000000000000000000000000000000000000";var q=function(e){for(var t=[],a=function(a){var n={};Object.keys(e[a]).map((function(t,c){n[t.toLowerCase()]=e[a][t]})),n.url=n.name.toLowerCase().replace(/ /gm,"-"),n["profile name"]=n["profile image"].replace(/ /gm,"");var c=/\.(jpe?g|png)$/i.test(n["profile image"])?"":".jpg",s="https://light.art/images/artists/".concat(n["profile image"]).concat(c),r="../../../images/artists/".concat(n["profile image"]).concat(c);n.fullImageSrc=s,n.imageSrc=r,t.push(n)},n=0;n<e.length;n++)a(n);return t=t.sort((function(e,t){return e["profile image"].localeCompare(t["profile image"])}))},E={id:"id",artist:"artist",Number:"internalNumber",name:"title",set:"set",file:"fileName",description:"description",genres:"tags",tone:"tone",camera:"camera","camera manufacturer":"cameraManufacturer",location:"location",license:"license",country:"country",image:"imageIPFS",composite:"composite"},M="https://light-art.s3.us-east-1.amazonaws.com/collections/";var R=c.a.createContext({}),V=1;console.log("counter init: ",V);var H=function(e){var t=e.children,a=e.collection,c=e.onSaveChanges,s=Object(n.useState)([{index:V,accessList:[],startDate:new Date}]),r=Object(u.a)(s,2),i=r[0],d=r[1],m=Object(n.useState)({}),O=Object(u.a)(m,2),x=O[0],g=O[1];Object(n.useEffect)((function(){var e=((null===a||void 0===a?void 0:a.dropPhases)||[]).map((function(e){var t;return{index:++V,startDate:new Date(1e3*e.startTimestamp),price:e.price?p.a.utils.fromWei(e.price):0,priceInWei:e.price?e.price:0,accessList:((null===(t=e.accessList)||void 0===t?void 0:t.concat())||[]).map((function(e){return Object(o.a)(Object(o.a)({},e),{},{id:Object(k.a)()})})),isPublic:!!e.isPublic}}));d(e)}),[a]);var v=Object(n.useCallback)((function(){console.log("-counter: ",V),V++,d((function(e){return[].concat(Object(l.a)(e),[{index:V,accessList:[],startDate:new Date}])})),console.log("+counter: ",V)}),[d]),y=Object(n.useCallback)((function(e){d((function(t){return t.filter((function(t){return t!==e}))}))}),[d]),C=Object(n.useCallback)((function(e){return i.find((function(t){return t.index===e}))}),[i]),I=Object(n.useCallback)((function(e,t){var a=i.findIndex((function(t){return t.index===e}));t.price&&(t.priceInWei=p.a.utils.toWei(t.price)),i[a]=Object(o.a)(Object(o.a)({},i[a]),t),console.log("Phase update",i[a]),d(Object(l.a)(i))}),[i]),S=Object(n.useCallback)((function(e,t){var a=C(e);a.accessList=a.accessList||[],a.accessList.push(t),I(e,{accessList:a.accessList})}),[i,C,I]),N=Object(n.useCallback)((function(e,t){var a=C(e);a.accessList=t||[],I(e,{accessList:a.accessList})}),[i,C,I]),P=Object(n.useCallback)((function(e,t){var a=C(e);a.accessList=a.accessList||[],a.accessList=a.accessList.filter((function(e){return e.id!==t})),I(e,{accessList:a.accessList})}),[i,C,I]),L=Object(n.useCallback)((function(e){var t=C(e);if(!t.price)return I(e,{warning:"Please enther the price!"}),!1;if(!t.startDate)return I(e,{warning:"Please enther correct start date!"}),!1;if(!t.isPublic){if(t.accessList.filter((function(e){return!e.address||!e.quantity})).length)return I(e,{warning:"Fill in all fields!"}),!1;var a="";if(t.accessList.forEach((function(e,t){e.warn=!1,p.a.utils.isAddress(e.address)||(a+="".concat(t+1,","),e.warn=!0)})),a.length)return I(e,{warning:"The address in row ".concat(a," is not correct.")}),!1}var n=[F],c=F,s=t.accessList,r=n;if(!t.isPublic){var i=function(e){var t=e.map((function(e){var t=e.quantity,a=e.address;return Object(o.a)(Object(o.a)({},e),{},{leafValue:f(a,t)})})),a=new h.a(t.map((function(e){return e.leafValue})),b.a,{sortPairs:!0}),n={root:"0x"+a.getRoot().toString("hex"),data:t.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{proof:a.getHexProof(e.leafValue),proofPositional:a.getPositionalHexProof(e.leafValue,t)})}))};return console.log("results",a.toString()),console.log("results",n),n}(Object(l.a)(t.accessList));r=(s=i.data).map((function(e){return{address:e.address,quantity:e.quantity,proof:e.proof}})),c=i.root}var u=parseInt(t.startDate.getTime()/1e3);return I(e,{warning:"",accessList:s,rootHash:c,startTimestamp:u,phaseDrop:{isPublic:t.isPublic,startTimestamp:u,price:t.priceInWei,accessList:r,rootHash:c},phaseDropStr:"[".concat(u,", ").concat(t.priceInWei,', "').concat(c,'"]')}),s}),[i,I,C]),A=Object(n.useCallback)((function(){if(i.find((function(e){return!1===L(e.index)})))return alert("Invalid phase exist. Please correct it and try again."),{error:!0};var e=[],t=i.sort((function(e,t){return e.startDate.getTime()-t.startDate.getTime()})).reduce((function(t,a){return t+=a.phaseDropStr+",",e.push(a.phaseDrop),t}),"[");return e=e.sort((function(e,t){return e.startTimestamp-t.startTimestamp})),t=t.substring(0,t.length-1)+"]",g({dropPhasesRemixStr:t,dropPhases:e}),{dropPhasesRemixStr:t,dropPhases:e}}),[i,C,L,c]),T=Object(n.useCallback)((function(){var e=A(),t=e.dropPhases;e.error||c(Object(o.a)(Object(o.a)({},a),{},{dropPhases:t}))}),[A,c,a]),D=Object(n.useCallback)((function(){var e=A(),t=e.dropPhases;if(!e.error){var a=(new TextEncoder).encode(JSON.stringify(t)),n=new Blob([a],{type:"application/json;charset=utf-8"});Object(j.saveAs)(n,"access-list.json")}}),[A,j.saveAs]),q=Object(n.useCallback)((function(e){var t=C(e);if(t.accessList&&t.accessList.length){var a=(new TextEncoder).encode(JSON.stringify(t.accessList)),n=new Blob([a],{type:"application/json;charset=utf-8"});Object(j.saveAs)(n,"access-list.json")}}),[i,C]),E=Object(n.useCallback)((function(e,t,a){var n=C(e);n.accessList=n.accessList.concat();var c=n.accessList.findIndex((function(e){return e.id==t}));n.accessList[c]=Object(o.a)(Object(o.a)({},n.accessList[c]),a);var s=n.accessList.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{leafValue:"",warn:!1,proof:!1})}));I(e,{accessList:s,rootHash:""})}),[i,C]);return Object(w.jsx)(R.Provider,{value:{phases:i,onAddPhase:v,savePhasesJSON:q,updatePhaseAccessListItem:E,onRemovePhase:y,addAddressToPhase:S,generateMercleTreeForPhase:L,setAddressesToPhase:N,updatePhase:I,saveDropPhases:T,phasesData:x,generateAndSaveJSON:D,removeAddressFromPhase:P},children:t})},B=function(){return c.a.useContext(R)},J=a(76),G=a(75),_=a(833),W=a(387),z=a(272),K=a(262),U=a.n(K),Y=a(65),Q=a.p+"static/media/no-image.baba1a73.png",$=a(847),X=a(834),Z=a(106);function ee(e){var t,a=e.collection,c=e.onRemove,s=e.onShow,r=Object(n.useCallback)((function(e){c(a.id)}),[a,c]),i=Object(n.useCallback)((function(e){s(a)}),[a,s]),l=a.images&&a.images.length>0?a.images[0]:{smallImage:Q};return Object(w.jsxs)($.a,{style:{width:"18rem",margin:"10px",padding:0},children:[Object(w.jsxs)($.a.Header,{children:[Object(w.jsxs)(_.a,{children:[Object(w.jsxs)(W.a,{lg:10,children:[Object(w.jsx)($.a.Title,{children:a.name}),Object(w.jsx)("p",{children:a.categoryName})]}),Object(w.jsx)(W.a,{lg:2,children:Object(w.jsx)(Z.a,{onClick:r})})]}),a.isMain&&Object(w.jsx)(X.a,{bg:"primary",children:"Primary"})," ",a.isRandom&&Object(w.jsx)(X.a,{bg:"secondary",children:"Random"})]}),Object(w.jsx)($.a.Img,{variant:"top",src:l.smallImage,className:"thumb-image"}),Object(w.jsxs)($.a.Body,{children:[Object(w.jsxs)($.a.Title,{children:[(null===(t=a.images)||void 0===t?void 0:t.length)||0," / ",a.itemsCount," images loaded"]}),Object(w.jsx)($.a.Text,{children:a.description}),Object(w.jsx)("div",{className:"d-grid gap-2",children:Object(w.jsx)(z.a,{variant:"primary",size:"lg",onClick:i,children:"Show More"})})]})]})}var te=a(153);function ae(e){var t=e.onConfirm,a=e.show,n=function(){t(!1)};return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(te.a,{show:a,onHide:n,backdrop:"static",keyboard:!1,children:[Object(w.jsx)(te.a.Header,{closeButton:!0,children:Object(w.jsx)(te.a.Title,{children:"Confirm Action"})}),Object(w.jsx)(te.a.Body,{children:"Are you sure you want perform this action?"}),Object(w.jsxs)(te.a.Footer,{children:[Object(w.jsx)(z.a,{variant:"secondary",onClick:n,children:"Close"}),Object(w.jsx)(z.a,{variant:"primary",onClick:function(){t(!0)},children:"Yep!"})]})]})})}var ne=a(845),ce=a(848),se=a(839),re=a(840),ie=a(842),le=a(846),oe=a(843),ue=a(397),je=a(849),de={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},be={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},me={wrapperCol:{xs:{span:24,offset:0},sm:{span:20,offset:4}}};function he(e){var t=e.collection,a=e.onSaveChanges,c=e.categoryOptions,s=se.a.useForm(),r=Object(u.a)(s,1)[0],i=Object(n.useState)(),l=Object(u.a)(i,2),j=l[0],d=l[1],b=P().artists,m=Object(n.useMemo)((function(){return b.map((function(e){return{value:e.name,type:e.value}}))}),[b]);console.log(c,b),Object(n.useEffect)((function(){d((null===t||void 0===t?void 0:t.categoryType)||"")}),[t]);var h=Object(n.useCallback)((function(e){console.log("Received values of form: ",e),e.categoryType=j||e.categoryName.toLowerCase().replace(/\s/gm,"_"),a&&a(Object(o.a)(Object(o.a)({},t),e))}),[a,j]),O=Object(n.useCallback)((function(e,t){d(t.type)}),[d]),p=Object(n.useCallback)((function(e){d("")}),[d]),f=Object(n.useCallback)((function(e){r.setFieldValue("author",e)}),[r]),x=Object(n.useCallback)((function(e){return r.setFieldValue("author",e)}),[r]);return Object(w.jsxs)(se.a,Object(o.a)(Object(o.a)({},de),{},{form:r,name:"register",onFinish:h,initialValues:t,style:{maxWidth:900},scrollToFirstError:!0,children:[Object(w.jsx)(se.a.Item,{label:"Name",tooltip:"Collection Name",children:Object(w.jsxs)(re.a.Group,{compact:!0,children:[Object(w.jsx)(se.a.Item,{name:"name",noStyle:!0,rules:[{required:!0,message:"Name is required"}],children:Object(w.jsx)(re.a,{style:{width:"50%"},placeholder:"Input name"})}),Object(w.jsx)(se.a.Item,{name:"title",noStyle:!0,rules:[{required:!0,message:"Title is required"}],children:Object(w.jsx)(re.a,{style:{width:"50%"},placeholder:"Input title"})})]})}),Object(w.jsx)(se.a.Item,{label:"Category",children:Object(w.jsx)(se.a.Item,{name:"categoryName",noStyle:!0,rules:[{required:!0,message:"Category name is required"}],children:Object(w.jsx)(ie.a,{options:c,onSelect:O,onSearch:p,style:{width:"100%"},placeholder:"Category Name",children:Object(w.jsx)(re.a,{})})})}),Object(w.jsx)(se.a.Item,{label:"Contract / Drop ID",children:Object(w.jsxs)(re.a.Group,{compact:!0,children:[Object(w.jsx)(se.a.Item,{name:"contractAddress",noStyle:!0,rules:[{required:!1,message:"Contract Address"}],children:Object(w.jsx)(re.a,{style:{width:"70%"},placeholder:"Contract"})}),Object(w.jsx)(se.a.Item,{name:"dropId",noStyle:!0,rules:[{required:!0,message:"Drop id is required"}],children:Object(w.jsx)(re.a,{style:{width:"30%"},placeholder:"Drop id"})})]})}),Object(w.jsx)(se.a.Item,{label:"Path / Collection ID",children:Object(w.jsxs)(re.a.Group,{compact:!0,children:[Object(w.jsx)(se.a.Item,{name:"path",noStyle:!0,rules:[{required:!0,message:"Collection url required"}],children:Object(w.jsx)(re.a,{style:{width:"50%"},placeholder:"Collection Path (/alpha) id"})}),Object(w.jsx)(se.a.Item,{name:"collectionID",noStyle:!0,children:Object(w.jsx)(re.a,{style:{width:"50%"},placeholder:"Unique Collection Slug"})})]})}),Object(w.jsx)(se.a.Item,{label:" ",children:Object(w.jsxs)(re.a.Group,{children:[Object(w.jsx)(se.a.Item,{label:"Main",valuePropName:"checked",name:"isMain",wrapperCol:{offset:8,span:16},noStyle:!0,children:Object(w.jsx)(le.a,{style:{width:"40%"},children:"Main Collection"})}),Object(w.jsx)(se.a.Item,{label:"Random Mint",valuePropName:"checked",name:"isRandom",noStyle:!0,children:Object(w.jsx)(le.a,{style:{width:"40%"},children:"Random"})})]})}),Object(w.jsx)(se.a.Item,{label:"Author / Authors Count",children:Object(w.jsxs)(re.a.Group,{compact:!0,children:[Object(w.jsx)(se.a.Item,{name:"author",noStyle:!0,children:Object(w.jsx)(ie.a,{options:m,onSearch:f,onSelect:x,filterOption:!0,style:{width:"70%"},placeholder:"Author Name",children:Object(w.jsx)(re.a,{})})}),Object(w.jsx)(se.a.Item,{name:"artists",noStyle:!0,rules:[{required:!0,message:"Category type is required"}],children:Object(w.jsx)(oe.a,{style:{width:"30%"},min:1,max:5e3,defaultValue:30})})]})}),Object(w.jsx)(se.a.Item,{name:"aboutCollection",label:"Small Description",children:Object(w.jsx)(re.a,{})}),Object(w.jsx)(se.a.Item,{name:"description",label:"Description",children:Object(w.jsx)(re.a.TextArea,{showCount:!0})}),Object(w.jsx)(se.a.List,{name:"tags",children:function(e,t,a){t.add;var c=t.remove;a.errors;return Object(w.jsx)(w.Fragment,{children:e.map((function(t,a){return Object(n.createElement)(se.a.Item,Object(o.a)(Object(o.a)({},0===a?de:me),{},{label:0===a?"Tags":"",required:!1,key:t.key}),Object(w.jsx)(se.a.Item,Object(o.a)(Object(o.a)({},t),{},{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Please input passenger's name or delete this field."}],noStyle:!0,children:Object(w.jsx)(re.a,{placeholder:"passenger name",style:{width:"60%"}})})),e.length>1?Object(w.jsx)(je.a,{className:"dynamic-delete-button",onClick:function(){return c(t.name)}}):null)}))})}}),Object(w.jsx)(se.a.Item,Object(o.a)(Object(o.a)({},be),{},{children:Object(w.jsx)(ue.a,{type:"primary",htmlType:"submit",children:"Save Changes"})}))]}))}var Oe=a(844),pe=a(836),fe=a(395),xe=a(841),ge=a(837),ve=a(393),ye=a.n(ve),Ce=a(146),Ie=a.n(Ce),ke={header:!1,dynamicTyping:!0,skipEmptyLines:!0},we=function(e){var t=e.phase;window.web3=p.a;var a=B(),c=a.addAddressToPhase,s=a.removeAddressFromPhase,r=a.setAddressesToPhase,l=a.updatePhaseAccessListItem,o=a.generateMercleTreeForPhase,j=a.updatePhase,d=Object(n.useState)(t.users||[]),b=Object(u.a)(d,2),m=b[0],h=b[1],O=Object(n.useState)([]),f=Object(u.a)(O,2),x=(f[0],f[1],Object(n.useState)(new Date)),g=Object(u.a)(x,2),v=(g[0],g[1],Object(n.useState)(new Date)),y=Object(u.a)(v,2),C=(y[0],y[1],Object(n.useCallback)((function(){c(t.index,{address:"",quantity:"",hash:"",id:Object(k.a)()})}),[t,c])),I=Object(n.useCallback)((function(e){s(t.index,e)}),[t,t.accessList,s]),S=Object(n.useCallback)((function(e,a){l(t.index,e,{address:a})}),[t,t.accessList,l]),N=Object(n.useCallback)((function(e,a){l(t.index,e,{quantity:a})}),[t,t.accessList,l]),P=Object(n.useCallback)((function(){o(t.index)}),[m,o]),L=Object(n.useCallback)((function(e,a,n){var c=function(e){var t=e.map((function(e,t){return{address:e[0],quantity:e[1],id:t}}));return isNaN(parseInt(t[0].quantity))&&t.shift(),t}(e);r(t.index,c)}),[h,t,r]);return Object(w.jsxs)(i.a,{children:[Object(w.jsx)("div",{className:"pt-5",children:!!t.warning&&Object(w.jsx)(pe.a,{variant:"warning",className:"text-center pointer",children:t.warning})}),Object(w.jsxs)(_.a,{children:[Object(w.jsxs)(W.a,{children:[Object(w.jsxs)("p",{children:["Drop Phase Start Date / ",t.startDate.toLocaleString()]}),Object(w.jsx)(ye.a,{selected:t.startDate,showTimeSelect:!0,timeFormat:"HH:mm",onChange:function(e){return j(t.index,{startDate:e})}})]}),Object(w.jsxs)(W.a,{children:[Object(w.jsx)("p",{children:"Price in eth"}),Object(w.jsx)(fe.a,{type:"number",step:.1,value:t.price,onChange:function(e){var a=e.target;return j(t.index,{price:a.value})}}),t.priceInWei&&Object(w.jsxs)("p",{className:"small",children:["Wei: ",t.priceInWei]})]}),Object(w.jsxs)(W.a,{children:[Object(w.jsx)("p",{children:"Is Public"}),Object(w.jsx)(xe.a.Check,{type:"switch",checked:t.isPublic,onChange:function(){return j(t.index,{isPublic:!t.isPublic})}})]})]}),!t.isPublic&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Ie.a,{onFileLoaded:L,parserOptions:ke}),Object(w.jsx)("div",{className:"address-table",children:Object(w.jsxs)(ge.a,{striped:!0,bordered:!0,hover:!0,size:"md",children:[Object(w.jsx)("thead",{className:"address-table-header",children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"#"}),Object(w.jsx)("th",{children:"Address"}),Object(w.jsx)("th",{children:"Access Quantity"}),Object(w.jsx)("th",{children:"Leaf"}),Object(w.jsx)("th",{children:"Hash"})]})}),Object(w.jsx)("tbody",{children:t.accessList.map((function(e,t){var a="";return e.warn&&(a="warning"),Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:t+1}),Object(w.jsx)("td",{className:a,children:Object(w.jsx)("input",{className:"address-input",type:"text",value:e.address,onChange:function(t){return S(e.id,t.target.value)}})}),Object(w.jsx)("td",{children:Object(w.jsx)("input",{type:"number",className:"quantity-input",value:e.quantity,onChange:function(t){return N(e.id,t.target.value)}})}),Object(w.jsx)("td",{className:"break",children:e.leafValue||"-"}),Object(w.jsx)("td",{className:"break",children:e.proof?JSON.stringify(e.proof):"-"}),Object(w.jsx)("td",{className:"text-center",children:Object(w.jsx)(J.a,{icon:G.a,onClick:function(){return I(e.id)},className:"clr pointer"})})]},e.id)}))})]})}),Object(w.jsx)("div",{children:Object(w.jsxs)(z.a,{className:"text-center",onClick:C,children:["Add Address",Object(w.jsx)(J.a,{icon:G.b,className:"clr pointer"})]})})]}),Object(w.jsxs)("div",{children:[Object(w.jsxs)("p",{children:["Hash: ",t.rootHash]}),Object(w.jsxs)("p",{children:["Drop Data: ",t.phaseDropStr]})]}),Object(w.jsx)("hr",{className:"clr"}),Object(w.jsx)("div",{className:"text-center",children:Object(w.jsx)(z.a,{onClick:P,className:"generate-btn",children:"Generate"})})]})};function Se(e){var t=e.phase,a=e.onRemovePhase,c=Object(n.useCallback)((function(){a&&a(t)}),[t,t.index,a]),s=t.accessList&&" Addresses Count: ".concat(t.accessList.length);return t.isPublic&&(s=" Public"),Object(w.jsxs)(Oe.a.Item,{eventKey:t.index,children:[Object(w.jsxs)(Oe.a.Header,{children:["Drop Phase ",t.index,": ",t.price&&"price: ".concat(t.price)," ",t.date&&"date: ".concat(t.date)," - ",s,Object(w.jsx)("div",{className:"header-button-group",children:Object(w.jsxs)(z.a,{className:"text-center",variant:"danger",onClick:c,children:["Remove Phase",Object(w.jsx)(J.a,{icon:G.a,className:"mr-4 clr pointer"})]})})]}),Object(w.jsx)(Oe.a.Body,{children:Object(w.jsx)(we,{phase:t})})]})}function Ne(){var e=B(),t=e.phases,a=e.phasesData,c=e.onAddPhase,s=e.onRemovePhase,r=e.generateAndSaveJSON,i=e.saveDropPhases,l=Object(n.useCallback)((function(){r()}),[r]),o=Object(n.useCallback)((function(){i()}),[i]);return Object(w.jsxs)(Oe.a,{children:[t.map((function(e){return Object(w.jsx)(Se,{phase:e,onRemovePhase:s})})),Object(w.jsx)("div",{className:"d-flex justify-content-center align-items-center mt-4",children:Object(w.jsxs)("p",{children:["Remix data: ",a.dropPhasesRemixStr]})}),Object(w.jsxs)("div",{className:"d-flex justify-content-center align-items-center mt-4",children:[Object(w.jsxs)(z.a,{className:"text-center",onClick:c,children:["Add Phase",Object(w.jsx)(J.a,{icon:G.b,className:"clr pointer"})]}),Object(w.jsx)(z.a,{onClick:l,className:"save-btn",children:"Save As Json"})]}),Object(w.jsx)("div",{className:"d-flex justify-content-center align-items-center mt-4 ",children:Object(w.jsx)(z.a,{onClick:o,className:"save-btn",children:"Save Drop Phases"})})]})}function Pe(e){var t,a=e.image,c=e.onRemove,s=e.onEdit,r=e.onDownloadIPFS,i=Object(n.useCallback)((function(e){c(a.id)}),[a,c]),l=Object(n.useCallback)((function(e){s(a)}),[a,s]),o=Object(n.useCallback)((function(){r(a)}),[a,r]);return Object(w.jsxs)($.a,{style:{width:"18rem",margin:"15px",padding:0},children:[Object(w.jsx)($.a.Header,{children:Object(w.jsxs)(_.a,{children:[Object(w.jsxs)(W.a,{lg:10,children:[Object(w.jsx)($.a.Title,{className:"img-title",children:a.title}),Object(w.jsx)("p",{children:a.artist})]}),Object(w.jsx)(W.a,{lg:2,children:Object(w.jsx)(Z.a,{onClick:i})})]})}),Object(w.jsx)($.a.Img,{variant:"top",src:a.smallImage,className:"thumb-image"}),Object(w.jsx)($.a.Body,{children:Object(w.jsx)("p",{children:(null===(t=a.tags)||void 0===t?void 0:t.join(", "))||""})}),Object(w.jsx)($.a.Footer,{children:Object(w.jsxs)("div",{className:"d-grid gap-0 m-0 p-0",children:[Object(w.jsx)(z.a,{variant:"light",size:"lg",onClick:l,children:"Edit"}),Object(w.jsx)(z.a,{variant:"light",size:"lg",onClick:o,children:"Download IPFS JSON"})]})})]})}var Le=a(838),Ae=a(850),Te={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},De={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};function Fe(e){var t=e.image,a=e.onSaveChanges,c=P().artistOptions,s=se.a.useForm(),r=Object(u.a)(s,1)[0];Object(n.useEffect)((function(){r.resetFields(),r.setFieldsValue(t)}),[t,r]);var i=Object(n.useCallback)((function(e){a&&a(Object(o.a)(Object(o.a)({},t),e))}),[a]),l=Object(n.useCallback)((function(e,t){r.setFieldValue("artistImg",t.artistImg)}),[r]),j=Object(n.useCallback)((function(e){var t=e.target.value;if(t){var a=t.split(".");a[a.length-2>0?a.length-2:a.length-1]+="-small",t=a.join(".")}r.setFieldValue("smallImage",t)}),[r]),d=Object(n.useCallback)((function(){var e=r.getFieldValue("tags")||[];e.push(""),r.setFieldsValue("tags",e)}),[r]);Object(n.useCallback)((function(e){}),[]);return Object(w.jsxs)(se.a,Object(o.a)(Object(o.a)({},Te),{},{form:r,name:"image",onFinish:i,initialValues:t,style:{maxWidth:900,marginTop:40},scrollToFirstError:!0,children:[Object(w.jsx)(se.a.Item,{label:"ID / Collection / Title",tooltip:"Image title ",children:Object(w.jsxs)(re.a.Group,{compact:!0,children:[Object(w.jsx)(se.a.Item,{name:"id",noStyle:!0,children:Object(w.jsx)(re.a,{style:{width:"20%"},placeholder:"Image id",disabled:!0})}),Object(w.jsx)(se.a.Item,{name:"collection",noStyle:!0,rules:[{required:!0,message:"Collection Name is required"}],children:Object(w.jsx)(re.a,{style:{width:"30%"},placeholder:"Collection Name",disabled:!0})}),Object(w.jsx)(se.a.Item,{name:"title",noStyle:!0,rules:[{required:!0,message:"Title is required"}],children:Object(w.jsx)(re.a,{style:{width:"50%"},placeholder:"Input title"})})]})}),Object(w.jsx)(se.a.Item,{label:"Subtitle / Internal Id / Token Id",children:Object(w.jsxs)(re.a.Group,{compact:!0,children:[Object(w.jsx)(se.a.Item,{name:"subtitle",noStyle:!0,children:Object(w.jsx)(re.a,{style:{width:"40%"},placeholder:"Subtitle"})}),Object(w.jsx)(se.a.Item,{name:"internalNumber",noStyle:!0,rules:[{required:!0,message:"Internal number"}],children:Object(w.jsx)(re.a,{style:{width:"30%"},placeholder:"Internal id"})}),Object(w.jsx)(se.a.Item,{name:"tokenId",noStyle:!0,children:Object(w.jsx)(re.a,{style:{width:"30%"},placeholder:"Token Id"})})]})}),Object(w.jsx)(se.a.Item,{label:"Artist",children:Object(w.jsxs)(re.a.Group,{compact:!0,children:[Object(w.jsx)(se.a.Item,{name:"artist",noStyle:!0,rules:[{required:!0,message:"Artist name is required"}],children:Object(w.jsx)(ie.a,{options:c,onSelect:l,filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())},style:{width:"50%"},placeholder:"Artist Name",children:Object(w.jsx)(re.a,{})})}),Object(w.jsx)(se.a.Item,{name:"artistImg",noStyle:!0,rules:[{required:!0,message:"Artist image is required"}],children:Object(w.jsx)(re.a,{style:{width:"50%"},placeholder:"Artist Image"})})]})}),Object(w.jsx)(se.a.Item,{label:"Camera / Manufacturer / Tone",children:Object(w.jsxs)(re.a.Group,{compact:!0,children:[Object(w.jsx)(se.a.Item,{name:"camera",noStyle:!0,rules:[{required:!0,message:"Camera"}],children:Object(w.jsx)(re.a,{style:{width:"33%"},placeholder:"Camera"})}),Object(w.jsx)(se.a.Item,{name:"cameraManufacturer",noStyle:!0,rules:[{required:!0,message:"Camera Manufacture"}],children:Object(w.jsx)(re.a,{style:{width:"33%"},placeholder:"Camera Manufacturer"})}),Object(w.jsx)(se.a.Item,{name:"tone",noStyle:!0,children:Object(w.jsx)(re.a,{style:{width:"33%"},placeholder:"Tone"})})]})}),Object(w.jsx)(se.a.Item,{label:"License / Country",children:Object(w.jsxs)(re.a.Group,{compact:!0,children:[Object(w.jsx)(se.a.Item,{name:"license",noStyle:!0,children:Object(w.jsx)(re.a,{style:{width:"33%"},placeholder:"License"})}),Object(w.jsx)(se.a.Item,{name:"country",noStyle:!0,children:Object(w.jsx)(re.a,{style:{width:"33%"},placeholder:"Country"})})]})}),Object(w.jsx)(se.a.Item,{label:"Image",children:Object(w.jsx)(re.a.Group,{compact:!0,children:Object(w.jsx)(se.a.Item,{name:"image",noStyle:!0,children:Object(w.jsx)(re.a,{style:{width:"100%"},placeholder:"Image",onChange:j})})})}),Object(w.jsx)(se.a.Item,{label:"Small Image",children:Object(w.jsx)(se.a.Item,{name:"smallImage",noStyle:!0,children:Object(w.jsx)(re.a,{style:{width:"100%"},placeholder:"Small image",disabled:!0})})}),Object(w.jsx)(se.a.Item,{name:"description",label:"Description",children:Object(w.jsx)(re.a.TextArea,{showCount:!0})}),Object(w.jsx)(se.a.List,{name:"tags",children:function(e,t,a){t.add;var n=t.remove;a.errors;return Object(w.jsx)(w.Fragment,{children:e.map((function(t,a){return Object(w.jsxs)(se.a.Item,{label:"Tags ".concat(a),required:!1,children:[Object(w.jsx)(se.a.Item,Object(o.a)(Object(o.a)({},t),{},{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Please input passenger's name or delete this field."}],noStyle:!0,children:Object(w.jsx)(re.a,{placeholder:"passenger name",style:{width:"60%"}})})),e.length>1?Object(w.jsx)(je.a,{className:"dynamic-delete-button",onClick:function(){return n(t.name)}}):null]},t.key)}))})}}),Object(w.jsx)(se.a.Item,{name:" ",label:" ",children:Object(w.jsxs)(ue.a,{type:"dashed",onClick:d,style:{width:"60%"},children:[Object(w.jsx)(Ae.a,{})," Add Tag"]})}),Object(w.jsx)(Le.a,{}),Object(w.jsx)(se.a.Item,Object(o.a)(Object(o.a)({},De),{},{children:Object(w.jsx)(ue.a,{type:"primary",htmlType:"submit",children:"Save Form Data"})}))]}))}var qe={header:!0,dynamicTyping:!0,skipEmptyLines:!0};function Ee(e){var t=e.collection,a=D(),c=a.images,s=a.removeImage,r=a.removeAllImages,i=a.updateImagesTokensIds,l=a.saveChanges,j=a.saveIPFSData,d=a.saveImage,b=a.loadImagesFromCSV,m=Object(n.useState)({}),h=Object(u.a)(m,2),O=h[0],p=h[1],f=(!O.id&&O.id,parseInt(t.dropId)),x=!isNaN(f)&&f>0&&!t.isRandom,g=Object(n.useCallback)((function(){p({collection:t.name,subtitle:t.name})}),[p]);Object(n.useEffect)((function(){p((function(e){return Object(o.a)(Object(o.a)({},e),{},{collection:t.name,subtitle:t.name})}))}),[t]);var v=Object(n.useCallback)((function(e){p(e)}),[O]),I=Object(n.useCallback)((function(e){j(e)}),[j]),k=Object(n.useCallback)(function(){var e=Object(C.a)(Object(y.a)().mark((function e(t){return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),e.next=4,b(t);case 4:e.next=11;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0),Y.b.error("Failed load images"),Y.b.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(w.jsxs)(_.a,{className:"justify-content-center align-content-center",children:[Object(w.jsxs)("div",{className:"d-flex justify-content-between align-items-center ms-5 me-5 ps-4",children:[Object(w.jsx)("h3",{children:"Images"}),x&&Object(w.jsx)(z.a,{onClick:i,className:"save-btn",children:"Update Tokens Ids"}),Object(w.jsx)(z.a,{onClick:r,className:"save-btn",children:"Remove All"})]}),Object(w.jsx)("div",{className:"images-list-cont",children:(c||[]).map((function(e){return Object(w.jsx)(Pe,{image:e,onRemove:s,onEdit:v,onDownloadIPFS:I})}))}),Object(w.jsx)(Fe,{image:O,onSaveChanges:d}),Object(w.jsxs)("div",{className:"d-flex justify-content-center align-items-center mt-4",children:[Object(w.jsx)(W.a,{lg:3,children:Object(w.jsxs)(z.a,{className:"text-center",onClick:g,children:["Add Image",Object(w.jsx)(J.a,{icon:G.b,className:"clr pointer"})]})}),Object(w.jsxs)(W.a,{lg:3,children:["Load Images CSV File",Object(w.jsx)(Ie.a,{onFileLoaded:k,parserOptions:qe})]}),Object(w.jsx)(W.a,{lg:3,children:Object(w.jsx)(z.a,{onClick:l,className:"save-btn",children:"Save Changes"})})]})]})}function Me(e){var t=e.collection,a=P(),c=a.updateCollection,s=a.categoryOptions,r=Object(n.useCallback)(function(){var e=Object(C.a)(Object(y.a)().mark((function e(t){return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:e.sent&&Y.b.success("Collection updated");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c]);return Object(w.jsx)(_.a,{children:Object(w.jsxs)(ne.a,{defaultActiveKey:"general",id:"uncontrolled-tab-example",className:"mb-3",children:[Object(w.jsx)(ce.a,{eventKey:"general",title:"General",children:Object(w.jsx)(he,{collection:t,onSaveChanges:r,categoryOptions:s})}),Object(w.jsx)(ce.a,{eventKey:"dtopPhases",title:"Drop Phases",children:Object(w.jsx)(H,{collection:t,onSaveChanges:r,children:Object(w.jsx)(Ne,{})})}),Object(w.jsx)(ce.a,{eventKey:"images",title:"Images",children:Object(w.jsx)(T,{collection:t,children:Object(w.jsx)(Ee,{collection:t})})})]})})}function Re(e){var t=e.onCollectionEdit,a=P(),c=a.collections,s=a.addCollection,r=a.loadCollections,i=a.removeCollection,l=(a.saveCollectionsData,a.saveCollectionJSON),o=a.clearAllCollectionData,j=Object(n.useState)(!1),d=Object(u.a)(j,2),b=d[0],m=d[1],h=Object(n.useState)({handler:function(){}}),O=Object(u.a)(h,2),p=O[0],f=O[1],x=Object(n.useCallback)((function(e){m(!1),e&&p.handler()}),[m,p]),g=Object(n.useCallback)((function(){s()}),[s]),v=Object(n.useCallback)(function(){var e=Object(C.a)(Object(y.a)().mark((function e(t){var a,n;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(u.a)(t,1),n=a[0],e.prev=1,e.next=4,r(n);case 4:e.next=11;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0),Y.b.error("Failed load file"),Y.b.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),[]),I=Object(n.useCallback)((function(e){t(e)}),[t]),k=Object(n.useCallback)((function(){l()}),[l]),S=Object(n.useCallback)((function(e){m(!0),f({handler:function(){return i(e)}})}),[]),N=Object(n.useCallback)((function(){m(!0),f({handler:function(){return o()}})}),[o]);return Object(w.jsxs)(_.a,{children:[Object(w.jsx)("h3",{children:"Collections"}),!c.length&&Object(w.jsx)(_.a,{className:"no-collections-container",children:"You don't have any collections yet. Add it or load it from json file."}),c.map((function(e){return Object(w.jsx)(ee,{collection:e,onShow:I,onRemove:S})})),Object(w.jsxs)(_.a,{className:"mt-4",children:[Object(w.jsx)(W.a,{children:Object(w.jsxs)(z.a,{className:"text-center",onClick:g,children:["Add Collection",Object(w.jsx)(J.a,{icon:G.b,className:"clr pointer"})]})}),Object(w.jsx)(W.a,{children:Object(w.jsx)(U.a,{className:"files-dropzone",onChange:v,accepts:["json/text",".json"],maxFileSize:1e7,minFileSize:0,clickable:!0,children:Object(w.jsxs)(z.a,{className:"text-center",children:["Load Collections File",Object(w.jsx)(J.a,{icon:G.b,className:"clr pointer"})]})})}),Object(w.jsx)(W.a,{children:Object(w.jsx)(z.a,{onClick:k,className:"save-btn",children:"Save As Json"})}),Object(w.jsx)(W.a,{children:Object(w.jsx)(z.a,{onClick:N,className:"save-btn",children:"Clear All Data"})})]}),Object(w.jsx)(ae,{onConfirm:x,show:b})]})}function Ve(e){var t=e.artist;return Object(w.jsxs)($.a,{style:{width:"18rem",margin:"15px",padding:0},children:[Object(w.jsx)($.a.Header,{children:Object(w.jsx)(_.a,{children:Object(w.jsxs)(W.a,{lg:10,children:[Object(w.jsx)($.a.Title,{className:"img-title",children:t.name}),Object(w.jsxs)("p",{children:[t.nickname," ",t.website&&Object(w.jsx)("a",{href:t.website,target:"_blank",children:t.website})]})]})})}),Object(w.jsx)($.a.Img,{variant:"top",src:t.fullImageSrc,className:"thumb-image"}),Object(w.jsx)($.a.Body,{children:Object(w.jsx)($.a.Text,{children:Object(w.jsx)("p",{children:t.bio})})}),Object(w.jsx)($.a.Footer,{children:Object(w.jsx)(z.a,{variant:"link",href:"https://light.art/artists/".concat(t.url),children:"View On Website"})})]})}var He={header:!0,dynamicTyping:!0,skipEmptyLines:!0};function Be(e){e.collection;var t=P(),a=t.artists,c=t.loadArtists,s=Object(n.useCallback)(function(){var e=Object(C.a)(Object(y.a)().mark((function e(t){return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(t);case 3:e.next=10;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0),Y.b.error("Failed load artists"),Y.b.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(w.jsxs)(_.a,{className:"justify-content-center align-content-center",children:[Object(w.jsx)("div",{className:"d-flex justify-content-between align-items-center ms-5 me-5 ps-4",children:Object(w.jsx)("h3",{children:"Artists"})}),Object(w.jsx)("div",{className:"images-list-cont",children:(a||[]).map((function(e){return Object(w.jsx)(Ve,{artist:e})}))}),Object(w.jsx)("div",{className:"d-flex justify-content-center align-items-center mt-4 ",children:Object(w.jsxs)(W.a,{lg:3,children:["Load Artists CSV File",Object(w.jsx)(Ie.a,{onFileLoaded:s,parserOptions:He})]})})]})}function Je(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)("collections"),r=Object(u.a)(s,2),i=r[0],l=r[1],o=Object(n.useCallback)((function(e){c(e),l("item")}),[c,l]),j=Object(n.useCallback)((function(e){l(e)}),[l]);return Object(w.jsx)(_.a,{children:Object(w.jsxs)(ne.a,{activeKey:i,className:"mb-3",onSelect:j,children:[Object(w.jsx)(ce.a,{eventKey:"collections",title:"Collections",children:Object(w.jsx)(Re,{onCollectionEdit:o})}),Object(w.jsx)(ce.a,{eventKey:"artists",title:"Artists",children:Object(w.jsx)(Be,{})}),a&&Object(w.jsx)(ce.a,{eventKey:"item",title:"Collection Item",children:Object(w.jsx)(Me,{collection:a})})]})})}var Ge=function(){return Object(w.jsxs)("div",{children:[Object(w.jsx)(i.a,{className:"big-container",children:Object(w.jsx)(N,{children:Object(w.jsx)(H,{children:Object(w.jsx)(Je,{})})})}),Object(w.jsx)(Y.a,{delay:6e3})]})};r.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(Ge,{})}),document.getElementById("root"))}},[[819,1,2]]]);
//# sourceMappingURL=main.542d24a6.chunk.js.map