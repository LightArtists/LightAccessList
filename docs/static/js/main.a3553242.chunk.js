(this["webpackJsonpaddress-hash"]=this["webpackJsonpaddress-hash"]||[]).push([[0],{252:function(t,e,n){},268:function(t,e){},271:function(t,e){},274:function(t,e){},278:function(t,e){},303:function(t,e){},305:function(t,e){},314:function(t,e){},316:function(t,e){},326:function(t,e){},328:function(t,e){},372:function(t,e){},373:function(t,e){},446:function(t,e){},448:function(t,e){},455:function(t,e){},456:function(t,e){},558:function(t,e){},588:function(t,e,n){"use strict";n.r(e);var a=n(1),c=n.n(a),s=n(44),r=n.n(s),i=(n(251),n(252),n(593)),o=n(66),u=n(36),l=n(595),d=n(594),j=n(136),b=n(135),f=n(45),h=n(24),O=n.n(h),x=n(11),p=n(237),m=n.n(p),v=n(238),g=n.n(v);function y(t,e){var n,a=O.a.utils.hexToNumberString(function(t){return N(C(t),32)}(t)),c=new O.a.utils.BN(a),s=O.a.utils.hexToNumberString((n=e,N(C(O.a.utils.toHex(n),12),32))),r=new O.a.utils.BN(s);return"0x"+c.or(r.shrn(20)).toString(16)}function C(t,e){var n=O.a.utils.hexToBytes(t);if(!e||e===n.length)return n.concat([]);if(e<n.length)throw"Data will be lost";for(;e!=n.length;)n.unshift(0);return O.a.utils.bytesToHex(n)}function N(t,e){Array.isArray(t)||(t=O.a.utils.hexToBytes(t));var n=e-t.length;if(n<0)throw new Error("Data loss");if(0===n)return t.concat([]);var a="0".repeat(n).split("").map((function(t){return parseInt(t)})),c=t.concat(a);return O.a.utils.bytesToHex(c)}var k=n(239),w=n.n(k),E=n(240),q=n(3),A={header:!1,dynamicTyping:!0,skipEmptyLines:!0},S=function(){window.web3=O.a;var t=Object(a.useState)([{address:"0x7C293364f42425aDD2cf2AE1450Ea36075076E0A",quantity:"2",hash:"",id:Object(f.a)()},{address:"0x5B38Da6a701c568545dCfcB03FcB875f56beddC4",quantity:"2",hash:"",id:Object(f.a)()},{address:"0xAb8483F64d9C6d1EcF9b849Ae677dD3315835cb2",quantity:"2",hash:"",id:Object(f.a)()},{address:"0x78731D3Ca6b7E34aC0F824c42a7cC18A495cabaB",quantity:"2",hash:"",id:Object(f.a)()},{address:"0x1aE0EA34a72D944a8C7603FfB3eC30a6669E454C",quantity:"2",hash:"",id:Object(f.a)()},{address:"0xCA35b7d915458EF540aDe6068dFe2F44E8fa733c",quantity:"2",hash:"",id:Object(f.a)()}]),e=Object(u.a)(t,2),n=e[0],c=e[1],s=Object(a.useState)(!1),r=Object(u.a)(s,2),h=r[0],p=r[1],v=Object(a.useState)(""),C=Object(u.a)(v,2),N=C[0],k=C[1],S=Object(a.useState)("-"),B=Object(u.a)(S,2),F=B[0],T=B[1],D=Object(a.useState)([]),H=Object(u.a)(D,2),J=H[0],P=H[1],V=Object(a.useCallback)((function(){c((function(t){return[].concat(Object(o.a)(t),[{address:"",quantity:"",hash:"",id:Object(f.a)()}])}))}),[]),I=Object(a.useCallback)((function(t){var e=n.filter((function(e){return t!==e.id}));e.length||T(""),c(e)}),[n]),L=Object(a.useCallback)((function(t,e){var a=Object(o.a)(n);a.forEach((function(n){n.id===t&&(n.address=e)})),c(a)}),[n]),z=Object(a.useCallback)((function(t,e){var a=Object(o.a)(n);a.forEach((function(n){n.id===t&&(n.quantity=e)})),c(a)}),[n]),G=Object(a.useCallback)((function(t){p(t)}),[]),M=Object(a.useCallback)((function(){if(P([]),n.filter((function(t){return!t.address||!t.quantity})).length)return G(!0),k("Fill in all fields!"),!1;var t="";if(n.forEach((function(e,n){O.a.utils.isAddress(e.address)||(P((function(t){return[].concat(Object(o.a)(t),[n])})),t+="".concat(n+1,","))})),t.length)return G(!0),k("The address in row ".concat(t," is not correct.")),setTimeout((function(){G(!1)}),3e3),!1;var e=function(t){var e=t.map((function(t){var e=t.quantity,n=t.address;return Object(x.a)(Object(x.a)({},t),{},{leafValue:y(n,e)})})),n=new g.a(e.map((function(t){return t.leafValue})),m.a,{sortPairs:!0}),a={root:"0x"+n.getRoot().toString("hex"),data:e.map((function(t,e){return Object(x.a)(Object(x.a)({},t),{},{proof:n.getHexProof(t.leafValue),proofPositional:n.getPositionalHexProof(t.leafValue,e)})}))};return console.log("results",n.toString()),console.log("results",a),a}(Object(o.a)(n));return T(e.root),c(e.data),console.log(e),e.data}),[n]),Q=Object(a.useCallback)((function(t,e,n){console.log(t,e,n);var a=t.map((function(t){return{address:t[0],quantity:t[1]}}));isNaN(parseInt(t[0].quantity))&&a.shift(),c(a)}),[c]),R=Object(a.useCallback)((function(){var t=M();if(!1!==t){var e=(new TextEncoder).encode(JSON.stringify(t)),n=new Blob([e],{type:"application/json;charset=utf-8"});Object(E.saveAs)(n,"access-list.json")}}),[M]);return Object(q.jsxs)(i.a,{children:[Object(q.jsx)("div",{className:"pt-5",children:Object(q.jsx)(l.a,{show:h,variant:"warning",className:"text-center pointer",onClick:function(){return G(!1)},children:N})}),Object(q.jsx)(w.a,{onFileLoaded:Q,parserOptions:A}),Object(q.jsxs)(d.a,{striped:!0,bordered:!0,hover:!0,size:"md",children:[Object(q.jsx)("thead",{className:"address-table-header",children:Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{children:"#"}),Object(q.jsx)("th",{children:"Address"}),Object(q.jsx)("th",{children:"Access Quantity"}),Object(q.jsx)("th",{children:"Leaf"}),Object(q.jsx)("th",{children:"Hash"})]})}),Object(q.jsx)("tbody",{children:n.map((function(t,e){var n="";return J.includes(e)&&(n="warning"),Object(q.jsxs)("tr",{children:[Object(q.jsx)("td",{children:e+1}),Object(q.jsx)("td",{className:n,children:Object(q.jsx)("input",{className:"address-input",type:"text",value:t.address,onChange:function(e){return L(t.id,e.target.value)}})}),Object(q.jsx)("td",{children:Object(q.jsx)("input",{type:"number",className:"quantity-input",value:t.quantity,onChange:function(e){return z(t.id,e.target.value)}})}),Object(q.jsx)("td",{className:"break",children:t.leafValue||"-"}),Object(q.jsx)("td",{className:"break",children:t.proof?JSON.stringify(t.proof):"-"}),Object(q.jsx)("td",{className:"text-center",children:Object(q.jsx)(j.a,{icon:b.a,onClick:function(){return I(t.id)},className:"clr pointer"})})]},t.id)}))})]}),Object(q.jsx)("div",{children:Object(q.jsx)("p",{className:"text-center",children:Object(q.jsx)(j.a,{icon:b.b,onClick:V,className:"clr pointer"})})}),Object(q.jsx)("div",{children:Object(q.jsxs)("p",{children:["Hash: ",F]})}),Object(q.jsx)("hr",{className:"clr"}),Object(q.jsxs)("div",{className:"text-center",children:[Object(q.jsx)("button",{onClick:M,className:"generate-btn",children:"Generate"}),Object(q.jsx)("button",{onClick:R,className:"save-btn",children:"Save As Json"})]})]})};var B=function(){return Object(q.jsx)(i.a,{className:"big-container",children:Object(q.jsx)(S,{})})};r.a.render(Object(q.jsx)(c.a.StrictMode,{children:Object(q.jsx)(B,{})}),document.getElementById("root"))}},[[588,1,2]]]);
//# sourceMappingURL=main.a3553242.chunk.js.map